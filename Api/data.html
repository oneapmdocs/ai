<!doctype html>
<html>
  <head>
    <meta name="keywords" content="端到端应用性能管理,Application Insight,OneAPM Ai">
<meta name="description" content="OneAPM Application Insight是一个真实可见的应用性能监控系统，从用户体验到网络服务，直至应用代码, 帮助您完成端到端的应用性能管理，OneAPM Ai通过 Apdex、报警、错误率让您了解应用性能对用户使用体验的影响，从而挖掘应用可优化的范围">
<meta content="IE=edge" http-equiv="X-UA-Compatible">
<meta charset="utf-8">
<meta content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport">

<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<!-- Use title if it's in the page YAML frontmatter -->
<title>Application Insight 文档</title>

  <script type="text/javascript">
    // if (window.location.hostname === 'www.oneapm.com') {
    //   var pathnameSegs = window.location.pathname.split("/docs/ci");
    //   var realPathname = pathnameSegs[pathnameSegs.length - 1];
    //   window.location.href = 'http://101.200.76.159:4567' + realPathname;
    // } else if (window.location.hostname !== 'docs-ci.oneapm.com') {
    //   window.location.href = 'http://101.200.76.159:4567' + window.location.pathname;
    // }
  </script>

  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?dc7d70374ed3b2f6ce76527be8b9c93a";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>

<!-- growingio -->
<script type='text/javascript'>
      var _vds = _vds || [];
      window._vds = _vds;
      (function(){
        _vds.push(['setAccountId', 'a78f5e02538f4b2b88cd4fee708bc11b']);
        (function() {
          var vds = document.createElement('script');
          vds.type='text/javascript';
          vds.async = true;
          vds.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'dn-growing.qbox.me/vds.js';
          var s = document.getElementsByTagName('script')[0];
          s.parentNode.insertBefore(vds, s);
        })();
      })();
  </script>


<link href="/stylesheets/site.css" rel="stylesheet" />
<script src="/javascripts/jquery-2.2.1.js"></script>
<script src="/javascripts/bootstrap.min.js"></script>
<script src="/javascripts/all.js"></script>
<style media="screen">
  .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight {
  color: #faf6e4;
  background-color: #122b3b;
}
.highlight .gl {
  color: #dee5e7;
  background-color: #4e5d62;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #6c8b9f;
  font-style: italic;
}
.highlight .cp {
  color: #b2fd6d;
  font-weight: bold;
  font-style: italic;
}
.highlight .err {
  color: #fefeec;
  background-color: #cc0000;
}
.highlight .gr {
  color: #fefeec;
  background-color: #cc0000;
}
.highlight .k, .highlight .kd, .highlight .kv {
  color: #f6dd62;
  font-weight: bold;
}
.highlight .o, .highlight .ow {
  color: #4df4ff;
}
.highlight .p, .highlight .pi {
  color: #4df4ff;
}
.highlight .gd {
  color: #cc0000;
}
.highlight .gi {
  color: #b2fd6d;
}
.highlight .ge {
  font-style: italic;
}
.highlight .gs {
  font-weight: bold;
}
.highlight .gt {
  color: #dee5e7;
  background-color: #4e5d62;
}
.highlight .kc {
  color: #f696db;
  font-weight: bold;
}
.highlight .kn {
  color: #ffb000;
  font-weight: bold;
}
.highlight .kp {
  color: #ffb000;
  font-weight: bold;
}
.highlight .kr {
  color: #ffb000;
  font-weight: bold;
}
.highlight .gh {
  color: #ffb000;
  font-weight: bold;
}
.highlight .gu {
  color: #ffb000;
  font-weight: bold;
}
.highlight .kt {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .no {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .nc {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .nd {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .nn {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .bp {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .ne {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .nl {
  color: #ffb000;
  font-weight: bold;
}
.highlight .nt {
  color: #ffb000;
  font-weight: bold;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #f696db;
  font-weight: bold;
}
.highlight .ld {
  color: #f696db;
  font-weight: bold;
}
.highlight .ss {
  color: #f696db;
  font-weight: bold;
}
.highlight .s, .highlight .sb, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .sr, .highlight .s1 {
  color: #fff0a6;
  font-weight: bold;
}
.highlight .se {
  color: #4df4ff;
  font-weight: bold;
}
.highlight .sc {
  color: #4df4ff;
  font-weight: bold;
}
.highlight .si {
  color: #4df4ff;
  font-weight: bold;
}
.highlight .nb {
  font-weight: bold;
}
.highlight .ni {
  color: #999999;
  font-weight: bold;
}
.highlight .w {
  color: #BBBBBB;
}
.highlight .nf {
  color: #a8e1fe;
}
.highlight .py {
  color: #a8e1fe;
}
.highlight .na {
  color: #a8e1fe;
}
.highlight .nv, .highlight .vc, .highlight .vg, .highlight .vi {
  color: #a8e1fe;
  font-weight: bold;
}
</style>

  </head>

  <body class="home">
      <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-56334895-2', 'auto');
    ga('send', 'pageview');

  </script>

<header class="main-header clearfix">
	<div class="main-navblock col-lg-10 col-md-10 col-sm-10 col-xs-10 col-lg-offset-1 col-md-offset-1 col-sm-offset-1 col-xs-offset-1"><div>
			<a href="../index.html" class="logo-container">
				<div class="oneapm-logo"></div>
			</a>
		</div>
		<a href="#" class="burger-wrapper">
			<div class="burger"></div>
		</a>
		<div class="nav-container">
			<ul class="nav-list">
				<li>
					<a href="/quick-start/">快速入门</a>
				</li>
				<li>
					<a href="/book/">功能说明</a>
				</li>
				<li>
					<a href="/agent/">安装指南</a>
				</li>
				<li>
					<a href="/qa/">常见问题</a>
				</li>
				<li>
					<a href="/Api/">API</a>
				</li>
				<li>
					<a href="/contact/contact.html">联系我们</a>
				</li>
			</ul>
			<ul class="login-list">
				<li>
					<a href="http://user.oneapm.com/pages/v2/login" class="btn outline-dark" id="loginIn">登录</a>
				</li>
				<li>
					<a href="https://user.oneapm.com/pages/v2/signup" class="btn inside-yellow" id="signUp">注册</a>
				</li>
			</ul>
		</div>
	</div>
</header>
<!--<div class="flagInfo clearfix">
    <div class="flag-left"></div>
    <div class="flag-right">Cloudinsight Agent 在 4.7.0 版本，将 Agent 名称从 oneapm-ci-agent 更换至 cloudinsight-agent。若您在使用过程中，出现无法正常工作的情况，请加入售后群：433349863</div>
    <span class="cl">X</span>
</div>-->
<script type="text/javascript">
	$(function () {
		var key=window.location.pathname;
		var arr5=['agent','api','cloud-integration','services','services_example'];
		var arr1=['quick-start'];
		var arr3=['release-note','platform','dashboard','metric','alert','event'];
		var arr4=['use-case','best-practise'];
		var arr2=['qa'];
		var Arr=[arr1,arr2,arr3,arr4,arr5];
		for(var i=0;i<6;i++) {
			$.each(Arr[i], function (e, a) {
				if (key.indexOf(a) !== -1) {
					switch (i + 1) {
						case 1:
							key = '/quick-start/';
							break;
						case 5:
							key = '/agent/';
							break;
						case 3:
							key = '/platform/';
							break;
						case 4:
							key = '/best-practise/';
							break;
						case 2:
							key = '/qa/';
							break;
					}
				}
			});
		}
		var keyInfo="'"+key+"'";
		var panelHead;
			panelHead= $(".nav-container  a[href="+keyInfo+"]");
			panelHead.addClass('show');
	});
</script>


    <div class="page-container">
      <div class="row">
        <div class="col-xs-3 page-sidebar hidden-sm hidden-xs">
          <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="headingOne">
      <h4 class="panel-title">
        <a role="button" href="/Api/description.html">
          API 说明文档
        </a>
      </h4>
    </div>
    <!--<div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">-->
      <!--<div class="panel-body">-->
        <!--<ul>-->
        <!--</ul>-->
      <!--</div>-->
    <!--</div>-->
  </div>
  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="headingTwo">
      <h4 class="panel-title">
        <a class="collapsed" href="/Api/data.html">
          API 接口文档
        </a>
      </h4>
    </div>
    <!--<div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">-->
      <!--<div class="panel-body">-->
        <!--<ul>-->
        <!--</ul>-->
      <!--</div>-->
    <!--</div>-->
  </div>
</div>

        </div>
        <div class="col-xs-9 page-body">
          <div class="body-box">
            <h1>SaaS-Ai API 接口文档</h1>

<h2>1. 监控 API</h2>

<h3>1.1 参数说明</h3>

<ul>
<li>spanTime: 最近时间</li>
<li>interval: 时间间隔</li>
<li>type: 可取值列表如下

<ul>
<li>WebTransaction</li>
<li>External</li>
<li>Apdex</li>
<li>Datastore</li>
<li>Database</li>
</ul></li>
<li>start: 整数 (翻页起始位置)</li>
<li>limit: 整数 (每页显示item数目)</li>
<li>orderBy: 可取值列表如下

<ul>
<li>ORDERBY<em>S1</em>S2_DESC: 吞吐量</li>
<li>ORDERBY<em>S2</em>S1_DESC: 平均响应时间</li>
<li>ORDERBY<em>S3</em>S1_DESC: 平均执行时间</li>
<li>ORDERBY<em>S1</em>DESC: 调用次数</li>
<li>ORDERBY<em>S2</em>DESC: 响应时间</li>
<li>ORDERBY<em>S3</em>DESC: 调用次数</li>
<li>ORDERBY<em>S4</em>ASC: 最小值</li>
</ul></li>
<li>endTime: 截至时间</li>
<li>fields: 可取值列表如下

<ul>
<li>Apdex</li>
<li>Errors</li>
</ul></li>
<li>name: 可取值列表如下

<ul>
<li>WebTransaction</li>
<li>DatabaseWeb</li>
<li>MongoDBWeb</li>
<li>MemcachedWeb</li>
<li>RedisWeb</li>
<li>ExternalWeb</li>
<li>CPU</li>
<li>Mem</li>
</ul></li>
</ul>

<h3>1.2 总览 API</h3>

<h4>1.2.1 总览响应时间</h4>

<ul>
<li>url</li>
</ul>
<pre class="highlight plaintext"><code>/ai/applications/{applicationId}/stats/detail.json
</code></pre>
<ul>
<li>Request Method:</li>
</ul>
<pre class="highlight plaintext"><code>GET
</code></pre>
<ul>
<li>Content-Type:</li>
</ul>
<pre class="highlight plaintext"><code>application/x-www-form-urlencoded
</code></pre>
<ul>
<li><p>参数：</p></li>
<li><p>spanTime:1800000</p></li>
<li><p>interval:60000</p></li>
<li><p>start:0</p></li>
<li><p>limit:5</p></li>
<li><p>name:WebTransaction</p></li>
<li><p>name:DatabaseWeb</p></li>
<li><p>name:MongoDBWeb</p></li>
<li><p>name:MemcachedWeb</p></li>
<li><p>name:RedisWeb</p></li>
<li><p>name:ExternalWeb</p></li>
<li><p>endTime:</p></li>
</ul>

<p><strong>例子</strong></p>

<ul>
<li>Request URL:</li>
</ul>
<pre class="highlight plaintext"><code>https://api.oneapm.com/ai/applications/2279554/stats/detail.json?api-key=api-key内容
&amp;spanTime=1800000&amp;interval=60000&amp;start=0&amp;limit=5&amp;name=WebTransaction
&amp;name=DatabaseWeb&amp;name=MongoDBWeb&amp;name=MemcachedWeb&amp;name=RedisWeb
&amp;name=ExternalWeb&amp;endTime=
</code></pre>
<ul>
<li>结果：</li>
</ul>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                            </span><span class="mi">454</span><span class="p">,</span><span class="w">  </span><span class="err">//调用次数</span><span class="w">
                            </span><span class="mf">3.9524461030960083</span><span class="p">,</span><span class="w">  </span><span class="err">//响应时间总和</span><span class="w">
                            </span><span class="mf">3.9524461030960083</span><span class="p">,</span><span class="w">  </span><span class="err">//执行时间</span><span class="w">
                            </span><span class="mf">0.0030819999519735575</span><span class="p">,</span><span class="w">  </span><span class="err">//最小响应时间</span><span class="w">
                            </span><span class="mf">0.040867000818252563</span><span class="p">,</span><span class="w">  </span><span class="err">//最大响应时间</span><span class="w">
                            </span><span class="mf">0.07299500145018101</span><span class="w">  </span><span class="err">//响应时间平方和</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="err">//该段采样时间内的数据</span><span class="w">
                        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465203600000</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465203000000</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="err">......</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2428022611</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction"</span><span class="p">,</span><span class="w">  </span><span class="err">//web事务</span><span class="w">
            </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                            </span><span class="mi">212</span><span class="p">,</span><span class="w">  </span><span class="err">//调用次数</span><span class="w">
                            </span><span class="mf">0.10384699981659651</span><span class="p">,</span><span class="w">  </span><span class="err">//响应时间总和</span><span class="w">
                            </span><span class="mf">0.10384699981659651</span><span class="p">,</span><span class="w">  </span><span class="err">//执行时间</span><span class="w">
                            </span><span class="mf">0.00034100000630132854</span><span class="p">,</span><span class="w">  </span><span class="err">//最小响应时间</span><span class="w">
                            </span><span class="mf">0.0008360000210814178</span><span class="p">,</span><span class="w">  </span><span class="err">//最大响应时间</span><span class="w">
                            </span><span class="mf">0.00005199999941396527</span><span class="w">  </span><span class="err">//响应时间平方和</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="err">//该段采样时间内的数据</span><span class="w">
                        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465203600000</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465203000000</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="err">.....</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"allWeb"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2428022624</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Database/allWeb"</span><span class="p">,</span><span class="w"> </span><span class="err">//web事务中的数据库类型metric</span><span class="w">
            </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Database"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Database"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w"> </span><span class="err">//num1~num6数据含义同上</span><span class="w">
            </span><span class="nt">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MongoDB/allWeb"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Datastore/MongoDB/allWeb"</span><span class="w">  </span><span class="err">//web事务所有mongoDB操作总和</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">  </span><span class="err">//num1~num6数据含义同上</span><span class="w">
            </span><span class="nt">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Memcached/allWeb"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Datastore/Memcached/allWeb"</span><span class="w"> </span><span class="err">//web事务所有Memcached操作总和</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">  </span><span class="err">//num1~num6数据含义同上</span><span class="w">
            </span><span class="nt">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Redis/allWeb"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Datastore/Redis/allWeb"</span><span class="w"> </span><span class="err">//web事务所有redis操作总和</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                            </span><span class="mi">106</span><span class="p">,</span><span class="w">  </span><span class="err">//调用次数</span><span class="w">
                            </span><span class="mf">1.386326976120472</span><span class="p">,</span><span class="w">  </span><span class="err">//响应时间总和</span><span class="w">
                            </span><span class="mf">1.386326976120472</span><span class="p">,</span><span class="w">  </span><span class="err">//执行时间</span><span class="w">
                            </span><span class="mf">0.004679999779909849</span><span class="p">,</span><span class="w">  </span><span class="err">//最小响应时间</span><span class="w">
                            </span><span class="mf">0.02655399963259697</span><span class="p">,</span><span class="w">  </span><span class="err">//最大响应时间</span><span class="w">
                            </span><span class="mf">0.025056000566110015</span><span class="w">  </span><span class="err">//响应时间平方和</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="err">//该段采样时间内的数据</span><span class="w">
                        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465203600000</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465203000000</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="err">......</span><span class="w"> </span><span class="err">//其它采样时间段内的数据</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"allWeb"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2428022647</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"External/allWeb"</span><span class="p">,</span><span class="w"> </span><span class="err">//web事务所有外部请求操作总和</span><span class="w">
            </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"External"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"External"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"timeSpan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465203480000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465181880000</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h4>1.2.2 Apdex</h4>

<ul>
<li>url</li>
</ul>
<pre class="highlight plaintext"><code>/ai/applications/{applicationId}/stats/detail.json
</code></pre>
<ul>
<li>Request Method:</li>
</ul>
<pre class="highlight plaintext"><code>GET
</code></pre>
<ul>
<li>Content-Type:</li>
</ul>
<pre class="highlight plaintext"><code>application/x-www-form-urlencoded
</code></pre>
<ul>
<li><p>参数：</p></li>
<li><p>spanTime:1800000</p></li>
<li><p>interval:60000</p></li>
<li><p>start:0</p></li>
<li><p>limit:5</p></li>
<li><p>name:Apdex</p></li>
<li><p>endTime:</p></li>
</ul>

<p><strong>例子</strong></p>

<ul>
<li>Request URL:</li>
</ul>
<pre class="highlight plaintext"><code>https://api.oneapm.com/ai/applications/2279554/stats/detail.json?api-key=api-key内容
&amp;spanTime=1800000&amp;interval=60000&amp;start=0&amp;limit=5&amp;name=Apdex&amp;endTime=
</code></pre>
<ul>
<li>结果：</li>
</ul>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"Apdex"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                            </span><span class="mi">454</span><span class="p">,</span><span class="w">  </span><span class="err">//正常调用次数</span><span class="w">
                            </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="err">//可容忍调用次数</span><span class="w">
                            </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="err">//不可容忍调用次数</span><span class="w">
                            </span><span class="mf">0.5</span><span class="p">,</span><span class="w">  </span><span class="err">//ApdexT</span><span class="w">
                            </span><span class="mf">0.5</span><span class="p">,</span><span class="w">  </span><span class="err">//ApdexT</span><span class="w">
                            </span><span class="mi">0</span><span class="w">  </span><span class="err">//暂空</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="err">//该段采样时间内的数据</span><span class="w">
                        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465203600000</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465203000000</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="err">......</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apdex"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2428022549</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apdex"</span><span class="p">,</span><span class="w"> </span><span class="err">//所有Web事务Apdex指标</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apdex"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"timeSpan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465203480000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465181880000</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h4>1.2.3 吞吐量</h4>

<ul>
<li>url</li>
</ul>
<pre class="highlight plaintext"><code>/ai/applications/{applicationId}/stats/detail.json
</code></pre>
<ul>
<li>Request Method:</li>
</ul>
<pre class="highlight plaintext"><code>GET
</code></pre>
<ul>
<li>Content-Type:</li>
</ul>
<pre class="highlight plaintext"><code>application/x-www-form-urlencoded
</code></pre>
<ul>
<li><p>参数：</p></li>
<li><p>spanTime:1800000</p></li>
<li><p>interval:60000</p></li>
<li><p>start:0</p></li>
<li><p>limit:5</p></li>
<li><p>name:WebTransaction</p></li>
<li><p>endTime:</p></li>
</ul>

<p><strong>例子</strong></p>

<ul>
<li>Request URL:</li>
</ul>
<pre class="highlight plaintext"><code>https://api.oneapm.com/ai/applications/2279554/stats/detail.json?api-key=api-key内容
&amp;spanTime=1800000&amp;interval=60000&amp;start=0&amp;limit=5&amp;name=WebTransaction&amp;endTime=
</code></pre>
<ul>
<li>结果：</li>
</ul>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                 </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                            </span><span class="mi">46</span><span class="p">,</span><span class="w">  </span><span class="err">//调用次数</span><span class="w">
                            </span><span class="mf">0.42274001240730286</span><span class="p">,</span><span class="w">  </span><span class="err">//响应时间总和</span><span class="w">
                            </span><span class="mf">0.42274001240730286</span><span class="p">,</span><span class="w">  </span><span class="err">//执行时间</span><span class="w">
                            </span><span class="mf">0.0032569998875260353</span><span class="p">,</span><span class="w">  </span><span class="err">//最小响应时间</span><span class="w">
                            </span><span class="mf">0.036476001143455505</span><span class="p">,</span><span class="w">  </span><span class="err">//最大响应时间</span><span class="w">
                            </span><span class="mf">0.0077840001322329044</span><span class="w">  </span><span class="err">//响应时间平方和</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">//该段采样时间内的数据</span><span class="w">
                        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465378440000</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465378380000</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="err">......</span><span class="w"> </span><span class="err">//其它采样时间段内的数据</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2428022611</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"timeSpan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465378482826</span><span class="p">,</span><span class="w">
        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465376682826</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h4>1.2.4 Web 事务</h4>

<h5>1.2.4.1 获取每条 Web 事务的 id</h5>

<ul>
<li>url</li>
</ul>
<pre class="highlight plaintext"><code>/ai/applications/{applicationId}/stats/topn.json
</code></pre>
<ul>
<li>Request Method:</li>
</ul>
<pre class="highlight plaintext"><code>GET
</code></pre>
<ul>
<li>Content-Type:</li>
</ul>
<pre class="highlight plaintext"><code>application/x-www-form-urlencoded
</code></pre>
<ul>
<li><p>参数：</p></li>
<li><p>spanTime:1800000</p></li>
<li><p>interval:</p></li>
<li><p>type:WebTransaction</p></li>
<li><p>start:0</p></li>
<li><p>limit:3</p></li>
<li><p>orderBy:ORDERBY<em>S2</em>S1_DESC</p></li>
<li><p>endTime:</p></li>
</ul>

<p><strong>例子</strong></p>

<ul>
<li>Request URL:</li>
</ul>
<pre class="highlight plaintext"><code>https://api.oneapm.com/ai/applications/2279716/stats/topn.json?api-key=api-key内容
&amp;spanTime=1800000&amp;interval=&amp;type=WebTransaction&amp;start=0
&amp;limit=3&amp;orderBy=ORDERBY_S2_S1_DESC&amp;endTime=
</code></pre>
<ul>
<li>结果：</li>
</ul>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                            </span><span class="mi">9141</span><span class="p">,</span><span class="w">
                            </span><span class="mf">451.3370990753174</span><span class="p">,</span><span class="w">
                            </span><span class="mf">451.3370990753174</span><span class="p">,</span><span class="w">
                            </span><span class="mf">0.01962300017476082</span><span class="p">,</span><span class="w">
                            </span><span class="mf">1.129634976387024</span><span class="p">,</span><span class="w">
                            </span><span class="mf">46.07066595554352</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465695720000</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465693920000</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Uri/discuz/upload/misc.php"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2448907286</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">获取该条Web事务对应的id</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction/Uri/discuz/upload/misc.php"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction/Uri/discuz/upload/misc.php"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                            </span><span class="mi">7999</span><span class="p">,</span><span class="w">
                            </span><span class="mf">296.83630180358887</span><span class="p">,</span><span class="w">
                            </span><span class="mf">296.83630180358887</span><span class="p">,</span><span class="w">
                            </span><span class="mf">0.03432599827647209</span><span class="p">,</span><span class="w">
                            </span><span class="mf">0.043685998767614365</span><span class="p">,</span><span class="w">
                            </span><span class="mf">11.021471977233887</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465695720000</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465693920000</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Uri/discuz/upload/forum.php"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2448907283</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">获取该条Web事务对应的id</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction/Uri/discuz/upload/forum.php"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction/Uri/discuz/upload/forum.php"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                            </span><span class="mi">5713</span><span class="p">,</span><span class="w">
                            </span><span class="mf">187.84444761276245</span><span class="p">,</span><span class="w">
                            </span><span class="mf">187.84444761276245</span><span class="p">,</span><span class="w">
                            </span><span class="mf">0.018213000148534775</span><span class="p">,</span><span class="w">
                            </span><span class="mf">0.05569300055503845</span><span class="p">,</span><span class="w">
                            </span><span class="mf">7.0720009952783585</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465695720000</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465693920000</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Uri/discuz/upload/member.php"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2448907468</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">获取该条Web事务对应的id</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction/Uri/discuz/upload/member.php"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction/Uri/discuz/upload/member.php"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"timeSpan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465695730381</span><span class="p">,</span><span class="w">
        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465693930381</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h5>1.2.4.2 根据Web事务id获取Web事务信息</h5>

<ul>
<li>url</li>
</ul>
<pre class="highlight plaintext"><code>/ai/applications/{applicationId}/transactions/traces.json
</code></pre>
<ul>
<li>Request Method:</li>
</ul>
<pre class="highlight plaintext"><code>GET
</code></pre>
<ul>
<li>Content-Type:</li>
</ul>
<pre class="highlight plaintext"><code>application/x-www-form-urlencoded
</code></pre>
<ul>
<li><p>参数：</p></li>
<li><p>begin:1800000</p></li>
<li><p>spanTime:1800000</p></li>
<li><p>offset:0</p></li>
<li><p>limit:3</p></li>
<li><p>orderBy:[object Object]</p></li>
<li><p>transType:webTransaction</p></li>
<li><p>metricId:2448907286</p></li>
<li><p>endTime:</p></li>
</ul>

<p><strong>例子</strong></p>

<p>以<code>metricId=2448907286</code>为例，获取该条Web事务对应的信息。</p>

<ul>
<li>Request URL:</li>
</ul>
<pre class="highlight plaintext"><code>https://api.oneapm.com/ai/applications/2279716/transactions/traces.json
?api-key=api-key内容&amp;begin=1800000&amp;spanTime=1800000&amp;offset=0&amp;limit=3
&amp;orderBy=%5Bobject+Object%5D&amp;transType=webTransaction&amp;metricId=2448907286&amp;endTime=
</code></pre>
<ul>
<li>结果：</li>
</ul>
<pre class="highlight plaintext"><code>[
    {
        "agentName": "PHP:php-testapplication11:7070(iZ25znillayZ)",
        "agentRunId": 64505,
        "duration": 20,
        "guid": "411E74C1F4CF417A",
        "isPersist": 1,
        "ratio": 0.3125,
        "requestUrl": "http://123.56.244.166:7070/discuz/upload/misc.php",
        "rootMetricName": "Uri/discuz/upload/misc.php",
        "rootType": "WebTransaction",
        "startTime": "2016-06-12 09:13:22",
        "transactionId": 2616699015,
        "xrayId": 0
    },
    {
        "agentName": "PHP:php-testapplication11:7070(iZ25znillayZ)",
        "agentRunId": 64505,
        "duration": 22,
        "guid": "5DF06134559942AA",
        "isPersist": 1,
        "ratio": 0.34375,
        "requestUrl": "http://123.56.244.166:7070/discuz/upload/misc.php",
        "rootMetricName": "Uri/discuz/upload/misc.php",
        "rootType": "WebTransaction",
        "startTime": "2016-06-12 09:13:22",
        "transactionId": 2616699016,
        "xrayId": 0
    },
    {
        "agentName": "PHP:php-testapplication11:7070(iZ25znillayZ)",
        "agentRunId": 64505,
        "duration": 22,
        "guid": "326679066A2646D4",
        "isPersist": 1,
        "ratio": 0.34375,
        "requestUrl": "http://123.56.244.166:7070/discuz/upload/misc.php",
        "rootMetricName": "Uri/discuz/upload/misc.php",
        "rootType": "WebTransaction",
        "startTime": "2016-06-12 09:14:22",
        "transactionId": 2616708988,
        "xrayId": 0
    }
]
</code></pre>
<h4>1.2.5 错误率</h4>

<ul>
<li>url</li>
</ul>
<pre class="highlight plaintext"><code>/ai/applications/{applicationId}/stats/detail.json
</code></pre>
<ul>
<li>Request Method:</li>
</ul>
<pre class="highlight plaintext"><code>GET
</code></pre>
<ul>
<li>Content-Type:</li>
</ul>
<pre class="highlight plaintext"><code>application/x-www-form-urlencoded
</code></pre>
<ul>
<li><p>参数：</p></li>
<li><p>spanTime:1800000</p></li>
<li><p>interval:60000</p></li>
<li><p>fields:Errors</p></li>
<li><p>start:0</p></li>
<li><p>limit:5</p></li>
<li><p>name:WebTransaction</p></li>
<li><p>endTime:</p></li>
</ul>

<p><strong>例子</strong></p>

<ul>
<li>Request URL:</li>
</ul>
<pre class="highlight plaintext"><code>https://api.oneapm.com/ai/applications/2279554/stats/detail.json?api-key=api-key内容
&amp;spanTime=1800000&amp;interval=60000&amp;fields=Errors&amp;start=0&amp;limit=5
&amp;name=WebTransaction&amp;endTime=
</code></pre>
<ul>
<li>结果：</li>
</ul>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                            </span><span class="mi">454</span><span class="p">,</span><span class="w">  </span><span class="err">//调用次数</span><span class="w">
                            </span><span class="mf">3.9524461030960083</span><span class="p">,</span><span class="w">  </span><span class="err">//响应时间总和</span><span class="w">
                            </span><span class="mf">3.9524461030960083</span><span class="p">,</span><span class="w">  </span><span class="err">//响应时间总和</span><span class="w">
                            </span><span class="mf">0.0030819999519735575</span><span class="p">,</span><span class="w">  </span><span class="err">//最小响应时间</span><span class="w">
                            </span><span class="mf">0.040867000818252563</span><span class="p">,</span><span class="w">  </span><span class="err">//最大响应时间</span><span class="w">
                            </span><span class="mf">0.07299500331282616</span><span class="w">  </span><span class="err">//响应时间平方和</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">//该段采样时间内的数据</span><span class="w">
                        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465203600000</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465203000000</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="err">......</span><span class="w"> </span><span class="err">//其它采样时间段内的数据</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2428022611</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"timeSpan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465203480000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465181880000</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h4>1.2.6 服务器</h4>

<ul>
<li>url</li>
</ul>
<pre class="highlight plaintext"><code>/ai/applications/{applicationId}/agents/overviews.json
</code></pre>
<ul>
<li>Request Method:</li>
</ul>
<pre class="highlight plaintext"><code>GET
</code></pre>
<ul>
<li>Content-Type:</li>
</ul>
<pre class="highlight plaintext"><code>application/x-www-form-urlencoded
</code></pre>
<ul>
<li><p>参数：</p></li>
<li><p>begin:1800000</p></li>
<li><p>spanTime:1800000</p></li>
<li><p>endTime:</p></li>
</ul>

<p><strong>例子</strong></p>

<ul>
<li>Request URL:</li>
</ul>
<pre class="highlight plaintext"><code>https://api.oneapm.com/ai/applications/2279554/agents/overviews.json
?api-key-api-key内容&amp;begin=1800000&amp;spanTime=1800000&amp;endTime=
</code></pre>
<ul>
<li>结果：</li>
</ul>
<pre class="highlight plaintext"><code>[
    {
        "agentRunId": 63656,
        "agentVersion": "3.2.1",
        "apdexScore": 1,
        "applicationId": 2279554,
        "avgResponseTime": 0.008786079508692443,
        "cpm": 45.36666666666667, //吞吐量(call per minutes)
        "cpuRate": 0.0009820000113298496,
        "errorRate": 0,
        "hide": false,
        "host": "webapp1.webapp-mysql.local.flyacmeair.net",
        "identifier": "java:Acmeair-webapp:80(webapp1.webapp-mysql.local.flyacmeair.net)",
        "memUsed": 148.09695773654514,
        "memo": ";hide:false",
        "name": "java:Acmeair-webapp:80(webapp1.webapp-mysql.local.flyacmeair.net)" //显示名称
    }
]
</code></pre>
<h3>1.3 Web事务API</h3>

<h4>1.3.1 响应时间占比</h4>

<ul>
<li>url</li>
</ul>
<pre class="highlight plaintext"><code>/ai/applications/{applicationId}/stats/topn.json
</code></pre>
<ul>
<li>Request Method:</li>
</ul>
<pre class="highlight plaintext"><code>GET
</code></pre>
<ul>
<li>Content-Type:</li>
</ul>
<pre class="highlight plaintext"><code>application/x-www-form-urlencoded
</code></pre>
<ul>
<li><p>参数：</p></li>
<li><p>spanTime:21600000</p></li>
<li><p>interval:</p></li>
<li><p>type:WebTransaction</p></li>
<li><p>start:0</p></li>
<li><p>limit:20</p></li>
<li><p>orderBy:ORDERBY<em>S2</em>DESC</p></li>
<li><p>endTime:</p></li>
</ul>

<p><strong>例子</strong></p>

<ul>
<li>Request URL:</li>
</ul>
<pre class="highlight plaintext"><code>https://api.oneapm.com/ai/applications/2279554/stats/topn.json?api-key=api-key内容
&amp;spanTime=21600000&amp;interval=&amp;type=WebTransaction&amp;start=0&amp;limit=20&amp;orderBy=ORDERBY_S2_DESC&amp;endTime=
</code></pre>
<ul>
<li>结果：</li>
</ul>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                            </span><span class="mi">1606</span><span class="p">,</span><span class="w">  </span><span class="err">//调用次数</span><span class="w">
                            </span><span class="mf">53.30757984519005</span><span class="p">,</span><span class="w">  </span><span class="err">//响应时间总和</span><span class="w">
                            </span><span class="mf">53.30757984519005</span><span class="p">,</span><span class="w">  </span><span class="err">//响应时间总和</span><span class="w">
                            </span><span class="mf">0.02609900012612343</span><span class="p">,</span><span class="w">  </span><span class="err">//最小响应时间</span><span class="w">
                            </span><span class="mf">0.07180699706077576</span><span class="p">,</span><span class="w">  </span><span class="err">//最大响应时间</span><span class="w">
                            </span><span class="mf">1.8123899982310832</span><span class="w">  </span><span class="err">//响应时间平方和</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="err">//该段采样时间内的数据</span><span class="w">
                        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465203600000</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465182000000</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EJB/Entity/customersession/getId"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2428022592</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction/EJB/Entity/customersession/getId"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction/EJB/Entity/customersession/getId"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">......</span><span class="w">  </span><span class="err">//其它Web事务的数据</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"timeSpan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465203480000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465181880000</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h4>1.3.2 平均响应时间</h4>

<ul>
<li>url</li>
</ul>
<pre class="highlight plaintext"><code>/ai/applications/{applicationId}/stats/topn.json
</code></pre>
<ul>
<li>Request Method:</li>
</ul>
<pre class="highlight plaintext"><code>GET
</code></pre>
<ul>
<li>Content-Type:</li>
</ul>
<pre class="highlight plaintext"><code>application/x-www-form-urlencoded
</code></pre>
<ul>
<li><p>参数：</p></li>
<li><p>spanTime:21600000</p></li>
<li><p>interval:</p></li>
<li><p>type:WebTransaction</p></li>
<li><p>start:0</p></li>
<li><p>limit:20</p></li>
<li><p>orderBy:ORDERBY<em>S2</em>S1_DESC</p></li>
<li><p>endTime:</p></li>
</ul>

<p><strong>例子</strong></p>

<ul>
<li>Request URL:</li>
</ul>
<pre class="highlight plaintext"><code>https://api.oneapm.com/ai/applications/2279554/stats/topn.json?api-key=api-key内容
&amp;spanTime=21600000&amp;interval=&amp;type=WebTransaction&amp;start=0
&amp;limit=20&amp;orderBy=ORDERBY_S2_S1_DESC&amp;endTime=
</code></pre>
<ul>
<li>结果：同上</li>
</ul>

<h4>1.3.3 性能指数</h4>

<ul>
<li>url</li>
</ul>
<pre class="highlight plaintext"><code>/ai/applications/{applicationId}/stats/topn.json
</code></pre>
<ul>
<li>Request Method:</li>
</ul>
<pre class="highlight plaintext"><code>GET
</code></pre>
<ul>
<li>Content-Type:</li>
</ul>
<pre class="highlight plaintext"><code>application/x-www-form-urlencoded
</code></pre>
<ul>
<li><p>参数：</p></li>
<li><p>spanTime:21600000</p></li>
<li><p>interval:</p></li>
<li><p>type:WebTransaction</p></li>
<li><p>fields:Apdex</p></li>
<li><p>start:0</p></li>
<li><p>limit:20</p></li>
<li><p>orderBy:ORDERBY<em>S4</em>ASC</p></li>
<li><p>endTime:</p></li>
</ul>

<p><strong>例子</strong></p>

<ul>
<li>Request URL:</li>
</ul>
<pre class="highlight plaintext"><code>https://api.oneapm.com/ai/applications/2279554/stats/topn.json?api-key=api-key内容
&amp;spanTime=21600000&amp;interval=&amp;type=WebTransaction&amp;fields=Apdex&amp;start=0
&amp;limit=20&amp;orderBy=ORDERBY_S4_ASC&amp;endTime=
</code></pre>
<ul>
<li>结果：</li>
</ul>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"Apdex"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                            </span><span class="mi">1606</span><span class="p">,</span><span class="w"> </span><span class="err">//正常调用次数</span><span class="w">
                            </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="err">//可容忍调用次数</span><span class="w">
                            </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="err">//不可容忍调用次数</span><span class="w">
                            </span><span class="mf">0.5</span><span class="p">,</span><span class="w">  </span><span class="err">//ApdexT</span><span class="w">
                            </span><span class="mf">0.5</span><span class="p">,</span><span class="w">  </span><span class="err">//ApdexT</span><span class="w">
                            </span><span class="mi">0</span><span class="w">  </span><span class="err">//暂空</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465182000000</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                            </span><span class="mi">1606</span><span class="p">,</span><span class="w">  </span><span class="err">//调用次数</span><span class="w">
                            </span><span class="mf">53.30757984519005</span><span class="p">,</span><span class="w">  </span><span class="err">//响应时间总和</span><span class="w">
                            </span><span class="mf">53.30757984519005</span><span class="p">,</span><span class="w">  </span><span class="err">//响应时间总和</span><span class="w">
                            </span><span class="mf">0.02609900012612343</span><span class="p">,</span><span class="w">  </span><span class="err">//最小响应时间</span><span class="w">
                            </span><span class="mf">0.07180699706077576</span><span class="p">,</span><span class="w">  </span><span class="err">//最大响应时间</span><span class="w">
                            </span><span class="mf">1.8123899982310832</span><span class="w">  </span><span class="err">//响应时间平方和</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465203600000</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465182000000</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EJB/Entity/customersession/getId"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2428022592</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction/EJB/Entity/customersession/getId"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction/EJB/Entity/customersession/getId"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">......</span><span class="w"> </span><span class="err">//其它Web事务的数据</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"timeSpan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465203480000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465181880000</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h4>1.3.4 吞吐量</h4>

<ul>
<li>url</li>
</ul>
<pre class="highlight plaintext"><code>/ai/applications/{applicationId}/stats/topn.json
</code></pre>
<ul>
<li>Request Method:</li>
</ul>
<pre class="highlight plaintext"><code>GET
</code></pre>
<ul>
<li>Content-Type:</li>
</ul>
<pre class="highlight plaintext"><code>application/x-www-form-urlencoded
</code></pre>
<ul>
<li><p>参数：</p></li>
<li><p>spanTime:21600000</p></li>
<li><p>interval:</p></li>
<li><p>type:WebTransaction</p></li>
<li><p>start:0</p></li>
<li><p>limit:20</p></li>
<li><p>orderBy:ORDERBY<em>S1</em>DESC</p></li>
<li><p>endTime:</p></li>
</ul>

<p><strong>例子</strong></p>

<ul>
<li>Request URL:</li>
</ul>
<pre class="highlight plaintext"><code>https://api.oneapm.com/ai/applications/2279554/stats/topn.json?api-key=api-key内容
&amp;spanTime=21600000&amp;interval=&amp;type=WebTransaction&amp;start=0
&amp;limit=20&amp;orderBy=ORDERBY_S1_DESC&amp;endTime=
</code></pre>
<ul>
<li>结果：</li>
</ul>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                            </span><span class="mi">1284</span><span class="p">,</span><span class="w">  </span><span class="err">//调用次数</span><span class="w">
                            </span><span class="mf">42.55347189307213</span><span class="p">,</span><span class="w">  </span><span class="err">//响应时间总和</span><span class="w">
                            </span><span class="mf">42.55347189307213</span><span class="p">,</span><span class="w">  </span><span class="err">//响应时间总和</span><span class="w">
                            </span><span class="mf">0.026921000331640244</span><span class="p">,</span><span class="w">  </span><span class="err">//最小响应时间</span><span class="w">
                            </span><span class="mf">0.07180699706077576</span><span class="p">,</span><span class="w">  </span><span class="err">//最大响应时间</span><span class="w">
                            </span><span class="mf">1.4423809978179634</span><span class="w">  </span><span class="err">//响应时间平方和</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465203600000</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465182000000</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EJB/Entity/customersession/getId"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2428022592</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction/EJB/Entity/customersession/getId"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction/EJB/Entity/customersession/getId"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction"</span><span class="w">
        </span><span class="p">}</span><span class="w">
        </span><span class="err">......</span><span class="w">  </span><span class="err">//其它Web事务的数据</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"timeSpan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465203480000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465181880000</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h4>1.3.5 Top5 Web事务的响应时间</h4>

<ul>
<li>url</li>
</ul>
<pre class="highlight plaintext"><code>/ai/applications/{applicationId}/stats/topn.json
</code></pre>
<ul>
<li>Request Method:</li>
</ul>
<pre class="highlight plaintext"><code>GET
</code></pre>
<ul>
<li>Content-Type:</li>
</ul>
<pre class="highlight plaintext"><code>application/x-www-form-urlencoded
</code></pre>
<ul>
<li><p>参数：</p></li>
<li><p>agentRunId:63656</p></li>
<li><p>spanTime:21600000</p></li>
<li><p>interval:600000</p></li>
<li><p>type:WebTransaction</p></li>
<li><p>start:0</p></li>
<li><p>limit:5</p></li>
<li><p>orderBy:ORDERBY<em>S2</em>S1_DESC</p></li>
<li><p>endTime:</p></li>
</ul>

<p><strong>例子</strong></p>

<ul>
<li>Request URL:</li>
</ul>
<pre class="highlight plaintext"><code>https://api.oneapm.com/ai/applications/2279554/stats/topn.json?api-key=api-key内容
&amp;agentRunId=63656&amp;spanTime=21600000&amp;interval=600000
&amp;type=WebTransaction&amp;start=0&amp;limit=5&amp;orderBy=ORDERBY_S2_S1_DESC&amp;endTime=
</code></pre>
<ul>
<li>结果：</li>
</ul>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                            </span><span class="mi">52</span><span class="p">,</span><span class="w">  </span><span class="err">//调用次数</span><span class="w">
                            </span><span class="mf">1.6603790074586868</span><span class="p">,</span><span class="w">  </span><span class="err">//响应时间总和</span><span class="w">
                            </span><span class="mf">1.6603790074586868</span><span class="p">,</span><span class="w">  </span><span class="err">//响应时间总和</span><span class="w">
                            </span><span class="mf">0.027338000014424324</span><span class="p">,</span><span class="w">  </span><span class="err">//最小响应时间</span><span class="w">
                            </span><span class="mf">0.03795500099658966</span><span class="p">,</span><span class="w">  </span><span class="err">//最大响应时间</span><span class="w">
                            </span><span class="mf">0.053344000363722444</span><span class="w">  </span><span class="err">//响应时间平方和</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">//该段采样时间内的数据</span><span class="w">
                        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465203600000</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465203000000</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="err">......//其它采样时间段内的数据</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EJB/Entity/customersession/getId"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2428022592</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction/EJB/Entity/customersession/getId"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction/EJB/Entity/customersession/getId"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">......</span><span class="w"> </span><span class="err">//其它Web事务的数据</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"timeSpan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465203480000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465181880000</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h4>1.3.5 吞吐量（折线图）</h4>

<ul>
<li>url</li>
</ul>
<pre class="highlight plaintext"><code>/ai/applications/{applicationId}/stats/detail.json
</code></pre>
<ul>
<li>Request Method:</li>
</ul>
<pre class="highlight plaintext"><code>GET
</code></pre>
<ul>
<li>Content-Type:</li>
</ul>
<pre class="highlight plaintext"><code>application/x-www-form-urlencoded
</code></pre>
<ul>
<li><p>参数：</p></li>
<li><p>agentRunId:63656</p></li>
<li><p>spanTime:21600000</p></li>
<li><p>interval:600000</p></li>
<li><p>start:0</p></li>
<li><p>limit:5</p></li>
<li><p>name:WebTransaction</p></li>
<li><p>endTime:</p></li>
</ul>

<p><strong>例子</strong></p>

<ul>
<li>Request URL:</li>
</ul>
<pre class="highlight plaintext"><code>https://api.oneapm.com/ai/applications/2279554/stats/detail.json?api-key=api-key内容
&amp;agentRunId=63656&amp;spanTime=21600000&amp;interval=600000&amp;start=0&amp;limit=5
&amp;name=WebTransaction&amp;endTime=
</code></pre>
<ul>
<li>结果：</li>
</ul>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                            </span><span class="mi">454</span><span class="p">,</span><span class="w">
                            </span><span class="mf">3.9524461030960083</span><span class="p">,</span><span class="w">
                            </span><span class="mf">3.9524461030960083</span><span class="p">,</span><span class="w">
                            </span><span class="mf">0.0030819999519735575</span><span class="p">,</span><span class="w">
                            </span><span class="mf">0.040867000818252563</span><span class="p">,</span><span class="w">
                            </span><span class="mf">0.07299500145018101</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">//该段时间内的数据</span><span class="w">
                        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465203600000</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465203000000</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="err">......</span><span class="w"> </span><span class="err">//其它采样时间段内的数据</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2428022611</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WebTransaction"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"timeSpan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465203480000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465181880000</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3>1.4 数据库API</h3>

<h4>1.4.1 平均响应时间</h4>

<ul>
<li>url</li>
</ul>
<pre class="highlight plaintext"><code>/ai/applications/{applicationId}/stats/topn.json
</code></pre>
<ul>
<li>Request Method:</li>
</ul>
<pre class="highlight plaintext"><code>GET
</code></pre>
<ul>
<li>Content-Type:</li>
</ul>
<pre class="highlight plaintext"><code>application/x-www-form-urlencoded
</code></pre>
<ul>
<li><p>参数：</p></li>
<li><p>spanTime:21600000</p></li>
<li><p>interval:</p></li>
<li><p>type:Datastore</p></li>
<li><p>start:0</p></li>
<li><p>limit:20</p></li>
<li><p>orderBy:ORDERBY<em>S2</em>S1_DESC</p></li>
<li><p>endTime:</p></li>
</ul>

<p><strong>例子</strong></p>

<ul>
<li>Request URL:</li>
</ul>
<pre class="highlight plaintext"><code>https://api.oneapm.com/ai/applications/2279554/stats/topn.json?api-key=api-key内容
&amp;spanTime=21600000&amp;interval=&amp;type=Datastore&amp;start=0&amp;limit=20
&amp;orderBy=ORDERBY_S2_S1_DESC&amp;endTime=
</code></pre>
<ul>
<li>结果：</li>
</ul>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                            </span><span class="mi">4420</span><span class="p">,</span><span class="w">  </span><span class="err">//调用次数</span><span class="w">
                            </span><span class="mf">2.1211180007085204</span><span class="p">,</span><span class="w">  </span><span class="err">//响应时间总和</span><span class="w">
                            </span><span class="mf">2.1211180007085204</span><span class="p">,</span><span class="w">  </span><span class="err">//响应时间总和</span><span class="w">
                            </span><span class="mf">0.00033400001120753586</span><span class="p">,</span><span class="w">  </span><span class="err">//最小响应时间</span><span class="w">
                            </span><span class="mf">0.006529000122100115</span><span class="p">,</span><span class="w">  </span><span class="err">//最大响应时间</span><span class="w">
                            </span><span class="mf">0.001099000010981399</span><span class="w">  </span><span class="err">//响应时间平方和</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465203600000</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465182000000</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Database customer-select"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2428022567</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Database/customer/select"</span><span class="p">,</span><span class="w"> </span><span class="err">//Database/{数据库表名}/</span><span class="p">{</span><span class="err">数据库操作</span><span class="p">}</span><span class="w">
            </span><span class="s2">"title"</span><span class="err">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="err">:</span><span class="w"> </span><span class="s2">"Database"</span><span class="w">
        </span><span class="err">}</span><span class="p">,</span><span class="w">
        </span><span class="err">......</span><span class="w"> </span><span class="err">//其它数据库的操作的数据</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"timeSpan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465203480000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465181880000</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h4>1.4.2 总响应时间</h4>

<ul>
<li>url</li>
</ul>
<pre class="highlight plaintext"><code>/ai/applications/{applicationId}/stats/topn.json
</code></pre>
<ul>
<li>Request Method:</li>
</ul>
<pre class="highlight plaintext"><code>GET
</code></pre>
<ul>
<li>Content-Type:</li>
</ul>
<pre class="highlight plaintext"><code>application/x-www-form-urlencoded
</code></pre>
<ul>
<li><p>参数：</p></li>
<li><p>spanTime:21600000</p></li>
<li><p>interval:</p></li>
<li><p>type:Datastore</p></li>
<li><p>start:0</p></li>
<li><p>limit:20</p></li>
<li><p>orderBy:ORDERBY<em>S2</em>DESC</p></li>
<li><p>endTime:</p></li>
</ul>

<p><strong>例子</strong></p>

<ul>
<li>Request URL:</li>
</ul>
<pre class="highlight plaintext"><code>https://api.oneapm.com/ai/applications/2279554/stats/topn.json?api-key=api-key内容
&amp;spanTime=21600000&amp;interval=&amp;type=Datastore&amp;start=0&amp;limit=20
&amp;orderBy=ORDERBY_S2_DESC&amp;endTime=
</code></pre>
<ul>
<li>结果：同上</li>
</ul>

<h4>1.4.3 吞吐量</h4>

<ul>
<li>url</li>
</ul>
<pre class="highlight plaintext"><code>/ai/applications/{applicationId}/stats/topn.json
</code></pre>
<ul>
<li>Request Method:</li>
</ul>
<pre class="highlight plaintext"><code>GET
</code></pre>
<ul>
<li>Content-Type:</li>
</ul>
<pre class="highlight plaintext"><code>application/x-www-form-urlencoded
</code></pre>
<ul>
<li><p>参数：</p></li>
<li><p>spanTime:21600000</p></li>
<li><p>interval:</p></li>
<li><p>type:Datastore</p></li>
<li><p>start:0</p></li>
<li><p>limit:20</p></li>
<li><p>orderBy:ORDERBY<em>S1</em>S2_DESC</p></li>
<li><p>endTime:</p></li>
</ul>

<p><strong>例子</strong></p>

<ul>
<li>Request URL:</li>
</ul>
<pre class="highlight plaintext"><code>https://api.oneapm.com/ai/applications/2279554/stats/topn.json?api-key=api-key内容
&amp;spanTime=21600000&amp;interval=&amp;type=Datastore&amp;start=0&amp;limit=20
&amp;orderBy=ORDERBY_S1_S2_DESC&amp;endTime=
</code></pre>
<ul>
<li>结果：同上</li>
</ul>

<h4>1.4.4 响应时间（折线图）</h4>

<ul>
<li>url</li>
</ul>
<pre class="highlight plaintext"><code>/ai/applications/{applicationId}/stats/topn.json
</code></pre>
<ul>
<li>Request Method:</li>
</ul>
<pre class="highlight plaintext"><code>GET
</code></pre>
<ul>
<li>Content-Type:</li>
</ul>
<pre class="highlight plaintext"><code>application/x-www-form-urlencoded
</code></pre>
<ul>
<li><p>参数：</p></li>
<li><p>spanTime:1800000</p></li>
<li><p>interval:60000</p></li>
<li><p>type:Datastore</p></li>
<li><p>start:0</p></li>
<li><p>limit:5</p></li>
<li><p>orderBy:ORDERBY<em>S2</em>S1_DESC</p></li>
<li><p>endTime:</p></li>
</ul>

<p><strong>例子</strong></p>

<ul>
<li>Request URL:</li>
</ul>
<pre class="highlight plaintext"><code>https://api.oneapm.com/ai/applications/2279554/stats/topn.json?api-key=api-key内容
&amp;spanTime=1800000&amp;interval=60000&amp;type=Datastore&amp;start=0
&amp;limit=5&amp;orderBy=ORDERBY_S2_S1_DESC&amp;endTime=
</code></pre>
<ul>
<li>结果：</li>
</ul>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                            </span><span class="mi">15</span><span class="p">,</span><span class="w">  </span><span class="err">//调用次数</span><span class="w">
                            </span><span class="mf">0.006845000199973583</span><span class="p">,</span><span class="w">  </span><span class="err">//响应时间总和</span><span class="w">
                            </span><span class="mf">0.006845000199973583</span><span class="p">,</span><span class="w">  </span><span class="err">//执行时间</span><span class="w">
                            </span><span class="mf">0.0003480000013951212</span><span class="p">,</span><span class="w">  </span><span class="err">//最小响应时间</span><span class="w">
                            </span><span class="mf">0.000598000013269484</span><span class="p">,</span><span class="w">  </span><span class="err">//最大响应时间</span><span class="w">
                            </span><span class="mf">0.000003000000106112566</span><span class="w">  </span><span class="err">//响应时间平方和</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">//该段采样时间内的数据</span><span class="w">
                        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465374600000</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465374540000</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="err">......</span><span class="w"> </span><span class="err">//其它采样时间段内的数据</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Database customer-select"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2428022567</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Database/customer/select"</span><span class="p">,</span><span class="w"> </span><span class="err">//Database/{数据库表名}/</span><span class="p">{</span><span class="err">数据库操作</span><span class="p">}</span><span class="w">
            </span><span class="s2">"title"</span><span class="err">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="err">:</span><span class="w"> </span><span class="s2">"Database"</span><span class="w">
        </span><span class="err">}</span><span class="w">
        </span><span class="err">......</span><span class="w"> </span><span class="err">//其它数据库表的数据库操作的数据</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"timeSpan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465374637999</span><span class="p">,</span><span class="w">
        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465372837999</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h4>1.4.5 吞吐量（折线图）</h4>

<ul>
<li>url</li>
</ul>
<pre class="highlight plaintext"><code>/ai/applications/{applicationId}/stats/topn.json
</code></pre>
<ul>
<li>Request Method:</li>
</ul>
<pre class="highlight plaintext"><code>GET
</code></pre>
<ul>
<li>Content-Type:</li>
</ul>
<pre class="highlight plaintext"><code>application/x-www-form-urlencoded
</code></pre>
<ul>
<li><p>参数：</p></li>
<li><p>spanTime:1800000</p></li>
<li><p>interval:60000</p></li>
<li><p>type:Datastore</p></li>
<li><p>start:0</p></li>
<li><p>limit:5</p></li>
<li><p>orderBy:ORDERBY<em>S1</em>S2_DESC</p></li>
<li><p>endTime:</p></li>
</ul>

<p><strong>例子</strong></p>

<ul>
<li>Request URL:</li>
</ul>
<pre class="highlight plaintext"><code>https://api.oneapm.com/ai/applications/2279554/stats/topn.json?api-key=api-key内容
&amp;spanTime=1800000&amp;interval=60000&amp;type=Datastore&amp;start=0
&amp;limit=5&amp;orderBy=ORDERBY_S1_S2_DESC&amp;endTime=
</code></pre>
<ul>
<li>结果：同上</li>
</ul>

<h3>1.5 外部服务API</h3>

<h4>1.5.1 平均响应时间</h4>

<ul>
<li>url</li>
</ul>
<pre class="highlight plaintext"><code>/ai/applications/{applicationId}/stats/topn.json
</code></pre>
<ul>
<li>Request Method:</li>
</ul>
<pre class="highlight plaintext"><code>GET
</code></pre>
<ul>
<li>Content-Type:</li>
</ul>
<pre class="highlight plaintext"><code>application/x-www-form-urlencoded
</code></pre>
<ul>
<li><p>参数：</p></li>
<li><p>spanTime:21600000</p></li>
<li><p>interval:</p></li>
<li><p>type:External</p></li>
<li><p>start:0</p></li>
<li><p>limit:20</p></li>
<li><p>orderBy:ORDERBY<em>S2</em>S1_DESC</p></li>
<li><p>endTime:</p></li>
</ul>

<p><strong>例子</strong></p>

<ul>
<li>Request URL:</li>
</ul>
<pre class="highlight plaintext"><code>https://api.oneapm.com/ai/applications/2279554/stats/topn.json?api-key=api-key内容
&amp;spanTime=21600000&amp;interval=&amp;type=External&amp;start=0&amp;limit=20
&amp;orderBy=ORDERBY_S2_S1_DESC&amp;endTime=
</code></pre>
<ul>
<li>结果：</li>
</ul>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                            </span><span class="mi">3860</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">调用次数</span><span class="w">
                            </span><span class="mf">53.989871092140675</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">响应时间总和</span><span class="w">
                            </span><span class="mf">53.989871092140675</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">执行时间</span><span class="w">
                            </span><span class="mf">0.0035260000731796026</span><span class="p">,</span><span class="w">  </span><span class="err">//最小响应时间</span><span class="w">
                            </span><span class="mf">0.06016800180077553</span><span class="p">,</span><span class="w">  </span><span class="err">//最大响应时间</span><span class="w">
                            </span><span class="mf">1.0994140019174665</span><span class="w">  </span><span class="err">//响应时间平方和</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465203600000</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465182000000</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auth1.auth-service-mysql.local.flyacmeair.net/all"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2428022621</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"External/auth1.auth-service-mysql.local.flyacmeair.net/all"</span><span class="p">,</span><span class="w"> </span><span class="err">//所有到目标主机地址的外部请求总和</span><span class="w">
            </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"External/auth1.auth-service-mysql.local.flyacmeair.net"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"External"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"timeSpan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465203480000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465181880000</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h4>1.5.2 吞吐量</h4>

<ul>
<li>url</li>
</ul>
<pre class="highlight plaintext"><code>/ai/applications/{applicationId}/stats/topn.json
</code></pre>
<ul>
<li>Request Method:</li>
</ul>
<pre class="highlight plaintext"><code>GET
</code></pre>
<ul>
<li>Content-Type:</li>
</ul>
<pre class="highlight plaintext"><code>application/x-www-form-urlencoded
</code></pre>
<ul>
<li><p>参数：</p></li>
<li><p>type:External</p></li>
<li><p>orderBy:ORDERBY<em>S1</em>DESC</p></li>
</ul>

<p><strong>例子</strong></p>

<ul>
<li>Request URL:</li>
</ul>
<pre class="highlight plaintext"><code>https://api.oneapm.com/ai/applications/2279554/stats/topn.json?api-key=api-key内容
&amp;spanTime=21600000&amp;interval=&amp;type=External&amp;start=0&amp;limit=20
&amp;orderBy=ORDERBY_S1_DESC&amp;endTime=1465203600000
</code></pre>
<ul>
<li>结果： 同上</li>
</ul>

<h4><h4 id="1.5.3">1.5.3 Top5 外部服务的响应时间</h4></h4>

<ul>
<li>url</li>
</ul>
<pre class="highlight plaintext"><code>/ai/applications/{applicationId}/stats/topn.json
</code></pre>
<ul>
<li>Request Method:</li>
</ul>
<pre class="highlight plaintext"><code>GET
</code></pre>
<ul>
<li>Content-Type:</li>
</ul>
<pre class="highlight plaintext"><code>application/x-www-form-urlencoded
</code></pre>
<ul>
<li><p>参数：</p></li>
<li><p>spanTime:1800000</p></li>
<li><p>interval:60000</p></li>
<li><p>type:External</p></li>
<li><p>start:0</p></li>
<li><p>limit:5</p></li>
<li><p>endTime:</p></li>
</ul>

<p><strong>例子</strong></p>

<ul>
<li>Request URL:</li>
</ul>
<pre class="highlight plaintext"><code>https://api.oneapm.com/ai/applications/2279554/stats/topn.json?api-key=api-key内容
&amp;spanTime=1800000&amp;interval=60000&amp;type=External&amp;start=0&amp;limit=5&amp;endTime=
</code></pre>
<ul>
<li>结果： </li>
</ul>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                            </span><span class="mi">8</span><span class="p">,</span><span class="w">  </span><span class="err">//调用次数</span><span class="w">
                            </span><span class="mf">0.10915900021791458</span><span class="p">,</span><span class="w">  </span><span class="err">//响应时间总和</span><span class="w">
                            </span><span class="mf">0.10915900021791458</span><span class="p">,</span><span class="w">  </span><span class="err">//执行时间</span><span class="w">
                            </span><span class="mf">0.004902999848127365</span><span class="p">,</span><span class="w">  </span><span class="err">//最小响应时间</span><span class="w">
                            </span><span class="mf">0.02677999995648861</span><span class="p">,</span><span class="w">  </span><span class="err">//最大响应时间</span><span class="w">
                            </span><span class="mf">0.002090000081807375</span><span class="w">  </span><span class="err">//响应时间平方和</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="err">//该段采样时间内的数据</span><span class="w">
                        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465376520000</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465376460000</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="err">......</span><span class="w"> </span><span class="err">//其它采样时间段内的数据</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auth1.auth-service-mysql.local.flyacmeair.net/all"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2428022621</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"External/auth1.auth-service-mysql.local.flyacmeair.net/all"</span><span class="p">,</span><span class="w"> </span><span class="err">//所有到目标主机地址的外部请求总和</span><span class="w">
            </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"External/auth1.auth-service-mysql.local.flyacmeair.net"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"External"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"timeSpan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465376556543</span><span class="p">,</span><span class="w">
        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465374756543</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h4>1.5.4 吞吐量（折线图）</h4>

<p>同<a href="#1.5.3">Top5 外部服务的响应时间</a></p>

<h3>1.6 后台任务API</h3>

<h4>1.6.1 平均响应时间</h4>

<ul>
<li>url</li>
</ul>
<pre class="highlight plaintext"><code>/ai/applications/{applicationId}/stats/topn.json
</code></pre>
<ul>
<li>Request Method:</li>
</ul>
<pre class="highlight plaintext"><code>GET
</code></pre>
<ul>
<li>Content-Type:</li>
</ul>
<pre class="highlight plaintext"><code>application/x-www-form-urlencoded
</code></pre>
<ul>
<li><p>参数：</p></li>
<li><p>spanTime:1800000</p></li>
<li><p>interval:</p></li>
<li><p>type:OtherTransaction</p></li>
<li><p>start:0</p></li>
<li><p>limit:20</p></li>
<li><p>orderBy:ORDERBY<em>S2</em>S1_DESC</p></li>
<li><p>endTime:</p></li>
</ul>

<p><strong>例子</strong></p>

<ul>
<li>Request URL:</li>
</ul>
<pre class="highlight plaintext"><code>https://api.oneapm.com/ai/applications/2283633/stats/topn.json?api-key=api-key内容
&amp;spanTime=1800000&amp;interval=&amp;type=OtherTransaction&amp;start=0
&amp;limit=20&amp;orderBy=ORDERBY_S2_S1_DESC&amp;endTime=
</code></pre>
<ul>
<li>结果：</li>
</ul>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                            </span><span class="mi">5</span><span class="p">,</span><span class="w">  </span><span class="err">//调用次数</span><span class="w">
                            </span><span class="mf">0.012357000261545181</span><span class="p">,</span><span class="w">  </span><span class="err">//响应时间总和</span><span class="w">
                            </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="err">//暂空</span><span class="w">
                            </span><span class="mf">0.00007000000186963007</span><span class="p">,</span><span class="w">  </span><span class="err">//最小响应时间</span><span class="w">
                            </span><span class="mf">0.009735999628901482</span><span class="p">,</span><span class="w">  </span><span class="err">//最大响应时间</span><span class="w">
                            </span><span class="mf">0.000097999996796716</span><span class="w">  </span><span class="err">//响应时间平方和</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465700520000</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465698720000</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"org.apache.catalina.servlets.DefaultServlet/init"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2872134663</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OtherTransaction/Java/org.apache.catalina.servlets.DefaultServlet/init"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OtherTransaction"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">......</span><span class="w"> </span><span class="err">//其它后台任务的数据</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"timeSpan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465700540060</span><span class="p">,</span><span class="w">
        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465698740060</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h4>1.6.2 性能指数</h4>

<ul>
<li>url</li>
</ul>
<pre class="highlight plaintext"><code>/ai/applications/{applicationId}/stats/topn.json
</code></pre>
<ul>
<li>Request Method:</li>
</ul>
<pre class="highlight plaintext"><code>GET
</code></pre>
<ul>
<li>Content-Type:</li>
</ul>
<pre class="highlight plaintext"><code>application/x-www-form-urlencoded
</code></pre>
<ul>
<li><p>参数：</p></li>
<li><p>spanTime:3600000</p></li>
<li><p>interval:</p></li>
<li><p>type:OtherTransaction</p></li>
<li><p>fields:Apdex</p></li>
<li><p>start:0</p></li>
<li><p>limit:20</p></li>
<li><p>orderBy:ORDERBY<em>S4</em>ASC</p></li>
<li><p>endTime:</p></li>
</ul>

<p><strong>例子</strong></p>

<ul>
<li>Request URL:</li>
</ul>
<pre class="highlight plaintext"><code>https://api.oneapm.com/ai/applications/2283633/stats/topn.json?api-key=api-key内容
&amp;spanTime=3600000&amp;interval=&amp;type=OtherTransaction
&amp;fields=Apdex&amp;start=0&amp;limit=20&amp;orderBy=ORDERBY_S4_ASC&amp;endTime=
</code></pre>
<ul>
<li>结果：同上</li>
</ul>

<h4>1.6.3 吞吐量</h4>

<ul>
<li>url</li>
</ul>
<pre class="highlight plaintext"><code>/ai/applications/{applicationId}/stats/topn.json
</code></pre>
<ul>
<li>Request Method:</li>
</ul>
<pre class="highlight plaintext"><code>GET
</code></pre>
<ul>
<li>Content-Type:</li>
</ul>
<pre class="highlight plaintext"><code>application/x-www-form-urlencoded
</code></pre>
<ul>
<li><p>参数：</p></li>
<li><p>spanTime:3600000</p></li>
<li><p>interval:</p></li>
<li><p>type:OtherTransaction</p></li>
<li><p>start:0</p></li>
<li><p>limit:20</p></li>
<li><p>orderBy:ORDERBY<em>S1</em>DESC</p></li>
<li><p>endTime:</p></li>
</ul>

<p><strong>例子</strong></p>

<ul>
<li>Request URL:</li>
</ul>
<pre class="highlight plaintext"><code>https://api.oneapm.com/ai/applications/2283633/stats/topn.json?api-key=api-key内容
&amp;spanTime=3600000&amp;interval=&amp;type=OtherTransaction&amp;start=0
&amp;limit=20&amp;orderBy=ORDERBY_S1_DESC&amp;endTime=
</code></pre>
<ul>
<li>结果：同上</li>
</ul>

<h4>1.6.4 响应时间占比</h4>

<ul>
<li>url</li>
</ul>
<pre class="highlight plaintext"><code>/ai/applications/{applicationId}/stats/topn.json
</code></pre>
<ul>
<li>Request Method:</li>
</ul>
<pre class="highlight plaintext"><code>GET
</code></pre>
<ul>
<li>Content-Type:</li>
</ul>
<pre class="highlight plaintext"><code>application/x-www-form-urlencoded
</code></pre>
<ul>
<li><p>参数：</p></li>
<li><p>spanTime:3600000</p></li>
<li><p>interval:</p></li>
<li><p>type:OtherTransaction</p></li>
<li><p>start:0</p></li>
<li><p>limit:20</p></li>
<li><p>orderBy:ORDERBY<em>S2</em>DESC</p></li>
<li><p>endTime:</p></li>
</ul>

<p><strong>例子</strong></p>

<ul>
<li>Request URL:</li>
</ul>
<pre class="highlight plaintext"><code>https://api.oneapm.com/ai/applications/2283633/stats/topn.json?api-key=api-key内容
&amp;spanTime=3600000&amp;interval=&amp;type=OtherTransaction&amp;start=0
&amp;limit=20&amp;orderBy=ORDERBY_S2_DESC&amp;endTime=
</code></pre>
<ul>
<li>结果：同上</li>
</ul>

<h4>1.6.5 Top5后台任务的响应时间</h4>

<ul>
<li>url</li>
</ul>
<pre class="highlight plaintext"><code>/ai/applications/{applicationId}/stats/topn.json
</code></pre>
<ul>
<li>Request Method:</li>
</ul>
<pre class="highlight plaintext"><code>GET
</code></pre>
<ul>
<li>Content-Type:</li>
</ul>
<pre class="highlight plaintext"><code>application/x-www-form-urlencoded
</code></pre>
<ul>
<li><p>参数：</p></li>
<li><p>spanTime:1800000</p></li>
<li><p>interval:60000</p></li>
<li><p>type:OtherTransaction</p></li>
<li><p>start:0</p></li>
<li><p>limit:5</p></li>
<li><p>orderBy:ORDERBY<em>S2</em>S1_DESC</p></li>
<li><p>endTime:</p></li>
</ul>

<p><strong>例子</strong></p>

<ul>
<li>Request URL:</li>
</ul>
<pre class="highlight plaintext"><code>https://api.oneapm.com/ai/applications/2283633/stats/topn.json?api-key=api-key内容
&amp;spanTime=1800000&amp;interval=60000&amp;type=OtherTransaction&amp;start=0
&amp;limit=5&amp;orderBy=ORDERBY_S2_S1_DESC&amp;endTime=
</code></pre>
<ul>
<li>结果：</li>
</ul>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                            </span><span class="mi">5</span><span class="p">,</span><span class="w">  </span><span class="err">//调用次数</span><span class="w">
                            </span><span class="mf">0.012357000261545181</span><span class="p">,</span><span class="w">  </span><span class="err">//响应时间总和</span><span class="w">
                            </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="err">//暂空</span><span class="w">
                            </span><span class="mf">0.00007000000186963007</span><span class="p">,</span><span class="w">  </span><span class="err">//最小响应时间</span><span class="w">
                            </span><span class="mf">0.009735999628901482</span><span class="p">,</span><span class="w">  </span><span class="err">//最大响应时间</span><span class="w">
                            </span><span class="mf">0.000097999996796716</span><span class="w">  </span><span class="err">//响应时间平方和</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="err">//该段采样时间内的数据</span><span class="w">
                        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465699620000</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465699560000</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="err">......</span><span class="w"> </span><span class="err">//其它采样时间段内的数据</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"org.apache.catalina.servlets.DefaultServlet/init"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2872134663</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OtherTransaction/Java/org.apache.catalina.servlets.DefaultServlet/init"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OtherTransaction"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">......</span><span class="w"> </span><span class="err">//其它后台任务的数据</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"timeSpan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465700086054</span><span class="p">,</span><span class="w">
        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465698286054</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h4>1.6.6 吞吐量（折线图）</h4>

<ul>
<li>url</li>
</ul>
<pre class="highlight plaintext"><code>/ai/applications/{applicationId}/stats/topn.json
</code></pre>
<ul>
<li>Request Method:</li>
</ul>
<pre class="highlight plaintext"><code>GET
</code></pre>
<ul>
<li>Content-Type:</li>
</ul>
<pre class="highlight plaintext"><code>application/x-www-form-urlencoded
</code></pre>
<ul>
<li><p>参数：</p></li>
<li><p>spanTime:1800000</p></li>
<li><p>interval:60000</p></li>
<li><p>type:OtherTransaction</p></li>
<li><p>start:0</p></li>
<li><p>limit:5</p></li>
<li><p>orderBy:ORDERBY<em>S1</em>DESC</p></li>
<li><p>endTime:</p></li>
</ul>

<p><strong>例子</strong></p>

<ul>
<li>Request URL:</li>
</ul>
<pre class="highlight plaintext"><code>https://api.oneapm.com/ai/applications/2283633/stats/topn.json?api-key=api-key内容
&amp;spanTime=1800000&amp;interval=60000&amp;type=OtherTransaction&amp;start=0&amp;limit=5
&amp;orderBy=ORDERBY_S1_DESC&amp;endTime=
</code></pre>
<ul>
<li>结果：同上</li>
</ul>

<h4>1.6.7 CPU使用率</h4>

<ul>
<li>url</li>
</ul>
<pre class="highlight plaintext"><code>/ai/applications/{applicationId}/stats/detail.json
</code></pre>
<ul>
<li>Request Method:</li>
</ul>
<pre class="highlight plaintext"><code>GET
</code></pre>
<ul>
<li>Content-Type:</li>
</ul>
<pre class="highlight plaintext"><code>application/x-www-form-urlencoded
</code></pre>
<ul>
<li><p>参数：</p></li>
<li><p>spanTime:21600000</p></li>
<li><p>interval:600000</p></li>
<li><p>start:0</p></li>
<li><p>limit:5</p></li>
<li><p>orderBy:ORDERBY<em>S1</em>DESC</p></li>
<li><p>name:CPU</p></li>
<li><p>endTime:</p></li>
</ul>

<p><strong>例子</strong></p>

<ul>
<li>Request URL:</li>
</ul>
<pre class="highlight plaintext"><code>https://api.oneapm.com/ai/applications/2279556/stats/detail.json?api-key=api-key内容
&amp;spanTime=21600000&amp;interval=600000&amp;start=0&amp;limit=5&amp;orderBy=ORDERBY_S1_DESC
&amp;name=CPU&amp;endTime=
</code></pre>
<ul>
<li>结果：</li>
</ul>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                            </span><span class="mi">10</span><span class="p">,</span><span class="w">  </span><span class="err">//采样次数</span><span class="w">
                            </span><span class="mf">0.010583000024780631</span><span class="p">,</span><span class="w">  </span><span class="err">//采样值总和</span><span class="w">
                            </span><span class="mf">0.010583000024780631</span><span class="p">,</span><span class="w">  </span><span class="err">//采样值总和</span><span class="w">
                            </span><span class="mf">0.0010189999593421817</span><span class="p">,</span><span class="w">  </span><span class="err">//采样中的最小值</span><span class="w">
                            </span><span class="mf">0.0011070000473409891</span><span class="p">,</span><span class="w">  </span><span class="err">//采样中的最大值</span><span class="w">
                            </span><span class="mf">0.000009999999974752427</span><span class="w">  </span><span class="err">//采样结果的平方和</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="err">//该段采样时间内的数据</span><span class="w">
                        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465182600000</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465182000000</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="err">......</span><span class="w"> </span><span class="err">//其它采样时间段内的数据</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User/Utilization"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2428017207</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPU/User/Utilization"</span><span class="p">,</span><span class="w">  </span><span class="err">//CPU利用率</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPU"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"timeSpan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465203480000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465181880000</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h4>1.6.8 内存使用情况</h4>

<ul>
<li>url</li>
</ul>
<pre class="highlight plaintext"><code>/ai/applications/{applicationId}/stats/detail.json
</code></pre>
<ul>
<li>Request Method:</li>
</ul>
<pre class="highlight plaintext"><code>GET
</code></pre>
<ul>
<li>Content-Type:</li>
</ul>
<pre class="highlight plaintext"><code>application/x-www-form-urlencoded
</code></pre>
<ul>
<li><p>参数：</p></li>
<li><p>spanTime:21600000</p></li>
<li><p>interval:600000</p></li>
<li><p>start:0</p></li>
<li><p>limit:5</p></li>
<li><p>orderBy:ORDERBY<em>S1</em>DESC</p></li>
<li><p>name:MemoryUsed</p></li>
<li><p>endTime:</p></li>
</ul>

<p><strong>例子</strong></p>

<ul>
<li>Request URL:</li>
</ul>
<pre class="highlight plaintext"><code>https://api.oneapm.com/ai/applications/2279556/stats/detail.json?api-key=api-key内容
&amp;spanTime=21600000&amp;interval=600000&amp;start=0&amp;limit=5
&amp;orderBy=ORDERBY_S1_DESC&amp;name=MemoryUsed&amp;endTime=
</code></pre>
<ul>
<li>结果：</li>
</ul>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                            </span><span class="mi">120</span><span class="p">,</span><span class="w">  </span><span class="err">//采样次数</span><span class="w">
                            </span><span class="mf">16439.0947265625</span><span class="p">,</span><span class="w">  </span><span class="err">//采样值总和</span><span class="w">
                            </span><span class="mf">16439.0947265625</span><span class="p">,</span><span class="w">  </span><span class="err">//采样值总和</span><span class="w">
                            </span><span class="mf">127.20303344726562</span><span class="p">,</span><span class="w">  </span><span class="err">//采样中的最小值</span><span class="w">
                            </span><span class="mf">146.8770751953125</span><span class="p">,</span><span class="w">  </span><span class="err">//采样中的最大值</span><span class="w">
                            </span><span class="mf">2255517.5</span><span class="w">  </span><span class="err">//采样结果的平方和</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">//该段采样时间内的数据</span><span class="w">
                        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465182600000</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465182000000</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="err">......</span><span class="w"> </span><span class="err">//其它采样时间段内的数据</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Used"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2428017316</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Memory/Used"</span><span class="p">,</span><span class="w">  </span><span class="err">//物理内存使用率</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Memory"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"timeSpan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465203480000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465181880000</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h2>2. 报表API</h2>

<h3>2.1 Web事务报表API</h3>

<ul>
<li>url</li>
</ul>
<pre class="highlight plaintext"><code>/ai/applications/{applicationId}/reports/transaction.json
</code></pre>
<ul>
<li>Request Method:</li>
</ul>
<pre class="highlight plaintext"><code>POST
</code></pre>
<ul>
<li>Content-Type:</li>
</ul>
<pre class="highlight plaintext"><code>application/x-www-form-urlencoded
</code></pre>
<ul>
<li><p>参数：</p></li>
<li><p>yesterday:yesterday</p></li>
<li><p>sameDayWeek:sameDayWeek</p></li>
<li><p>sevenDay:sevenDay</p></li>
<li><p>orderBy:throughput(default)|averageTime|totalTime</p></li>
</ul>

<p><strong>例子</strong></p>

<ul>
<li>Request URL:</li>
</ul>
<pre class="highlight plaintext"><code>https://api.oneapm.com/ai/applications/2279554/reports/transaction.json?api-key=api-key内容
</code></pre>
<ul>
<li>Posted Form Data：</li>
</ul>
<pre class="highlight plaintext"><code>yesterday=yesterday&amp;sameDayWeek=sameDayWeek&amp;sevenDay=sevenDay&amp;orderBy=averageTime
</code></pre>
<ul>
<li>结果：</li>
</ul>
<pre class="highlight plaintext"><code>[
    {
        "metricId": 2428022546,
        "metricName": "EJB/Entity/flightSegment/getFlightName",
        "values": {  // 结果集
            "yesterday": {  // 昨天的数据
                "apdexScore": 1,  // 性能指数apdex
                "averageTime": 0.00393173165604137,  // 平均响应时间
                "cpm": 26.827083333333334,  // 吞吐量
                "dissate": 0,  // 不满意次数
                "endTime": 1465228799000,
                "errorRate": 0,  // 错误率
                "metricId": 2428022546,
                "startTime": 1465142399000
            },
            "sameDayWeek": {  // 上周同一天的数据
                "apdexScore": 0,
                "averageTime": 0,
                "cpm": 0,
                "dissate": 0,
                "endTime": 1464710399000,
                "errorRate": 0,
                "metricId": 2428022546,
                "startTime": 1464623999000
            },
            "sevenDay": {  // 7天内的数据
                "apdexScore": 1,
                "averageTime": 0.004003353749600751,
                "cpm": 24.85952380952381,
                "dissate": 0,
                "endTime": 1465315199000,
                "errorRate": 0,
                "metricId": 2428022546,
                "startTime": 1464710399000
            },
            "today": {  // 今天的数据
                "apdexScore": 1,
                "averageTime": 0.0039242472308862126,
                "cpm": 13.10138888888889,
                "dissate": 0,
                "endTime": 1465315199000,
                "errorRate": 0,
                "metricId": 2428022546,
                "startTime": 1465228799000
            }
        }
    }
]
</code></pre>
<h3>2.2 数据库报表API</h3>

<ul>
<li>url</li>
</ul>
<pre class="highlight plaintext"><code>/ai/applications/{applicationId}/reports/database.json
</code></pre>
<ul>
<li>Request Method:</li>
</ul>
<pre class="highlight plaintext"><code>POST
</code></pre>
<ul>
<li>Content-Type:</li>
</ul>
<pre class="highlight plaintext"><code>application/x-www-form-urlencoded
</code></pre>
<ul>
<li><p>参数：</p></li>
<li><p>yesterday:yesterday</p></li>
<li><p>sameDayWeek:sameDayWeek</p></li>
<li><p>sevenDay:sevenDay</p></li>
<li><p>orderBy:throughput(default)|averageTime|totalTime</p></li>
</ul>

<p><strong>例子</strong></p>

<ul>
<li>Request URL:</li>
</ul>
<pre class="highlight plaintext"><code>https://api.oneapm.com/ai/applications/2279554/reports/database.json?api-key=api-key内容
</code></pre>
<ul>
<li>Posted Form Data：</li>
</ul>
<pre class="highlight plaintext"><code>yesterday=yesterday&amp;sameDayWeek=sameDayWeek&amp;sevenDay=sevenDay&amp;orderBy=averageTime
</code></pre>
<ul>
<li>结果：</li>
</ul>
<pre class="highlight plaintext"><code>[
    {
        "metricId": 2431115505,
        "metricName": "Database customer-update",
        "values": {  // 结果集
            "yesterday": {  // 昨天的数据
                "averageTime": 0.0005623816693930418,  // 平均响应时间
                "cpm": 1.3409722222222222,  // 吞吐量
                "endTime": 1465228799000,
                "metricId": 2431115505,
                "startTime": 1465142399000,
                "totalTime": 1.0859590035979636  // 总时间
            },
            "sameDayWeek": {  // 上周同一天的数据
                "averageTime": 0,
                "cpm": 0,
                "endTime": 1464710399000,
                "metricId": 2431115505,
                "startTime": 1464623999000,
                "totalTime": 0
            },
            "sevenDay": {  // 7天内的数据
                "averageTime": 0.0005590523701868545,
                "cpm": 1.2370039682539682,
                "endTime": 1465315199000,
                "metricId": 2431115505,
                "startTime": 1464710399000,
                "totalTime": 6.970824003859889
            },
            "today": {  // 今天的数据
                "averageTime": 0.0005545028321084272,
                "cpm": 0.6131944444444445,
                "endTime": 1465315199000,
                "metricId": 2431115505,
                "startTime": 1465228799000,
                "totalTime": 0.48962600075174123
            }
        }
    }
]
</code></pre>
<h3>2.3 JVM报表API</h3>

<ul>
<li>url</li>
</ul>
<pre class="highlight plaintext"><code>/ai/applications/{applicationId}/reports/jvm.json
</code></pre>
<ul>
<li>Request Method:</li>
</ul>
<pre class="highlight plaintext"><code>POST
</code></pre>
<ul>
<li>Content-Type:</li>
</ul>
<pre class="highlight plaintext"><code>application/x-www-form-urlencoded
</code></pre>
<ul>
<li><p>参数：</p></li>
<li><p>yesterday:yesterday</p></li>
<li><p>sameDayWeek:sameDayWeek</p></li>
<li><p>sevenDay:sevenDay</p></li>
<li><p>orderBy:throughput(default)|averageTime|totalTime</p></li>
</ul>

<p><strong>例子</strong></p>

<ul>
<li>Request URL:</li>
</ul>
<pre class="highlight plaintext"><code>https://api.oneapm.com/ai/applications/2279554/reports/jvm.json?api-key=api-key内容
</code></pre>
<ul>
<li>Posted Form Data：</li>
</ul>
<pre class="highlight plaintext"><code>yesterday=yesterday&amp;sameDayWeek=sameDayWeek&amp;sevenDay=sevenDay&amp;orderBy=averageTime
</code></pre>
<ul>
<li>结果：</li>
</ul>
<pre class="highlight plaintext"><code>[
    {
        "metricId": 63656,
        "metricName": "java:Acmeair-webapp:80(webapp1.webapp-mysql.local.flyacmeair.net)",
        "values": {  // 结果集
            "yesterday": {  // 昨天的数据
                "apdexScore": 1,    // 性能指数apdex
                "averageTime": 0.008966938131547643,  // 平均响应时间
                "cpm": 45.60486111111111,  // 吞吐量
                "cpu": 0.0009731166840841373,  // CPU
                "endTime": 0,
                "errorRate": 0,  // 错误率
                "mem": 151.26934360169,  // 内存
                "metricId": 63656,
                "startTime": 0
            },
            "sameDayWeek": {  // 上周同一天的数据
                "apdexScore": 0,
                "averageTime": 0,
                "cpm": 0,
                "cpu": 0,
                "endTime": 0,
                "errorRate": 0,
                "mem": 0,
                "metricId": 63656,
                "startTime": 0
            },
            "sevenDay": {  // 7天内的数据
                "apdexScore": 0.9999881762029531,
                "averageTime": 0.008963754300236446,
                "cpm": 41.95198412698413,
                "cpu": 0.0009589939554731904,
                "endTime": 0,
                "errorRate": 0,
                "mem": 151.37865918322768,
                "metricId": 63656,
                "startTime": 0
            },
            "today": {  // 今天的数据
                "apdexScore": 0.9999654624576915,
                "averageTime": 0.008888333461524588,
                "cpm": 20.106944444444444,
                "cpu": 0.0007365501562195708,
                "endTime": 0,
                "errorRate": 0,
                "mem": 153.44450277036665,
                "metricId": 63656,
                "startTime": 0
            }
        }
    }
]
</code></pre>
            <!--<hr style="margin-top: 50px;" />
<div class="alert alert-warning" style="text-align:center; margin: 40px 0px;">
  <p style="font-size: 16px;">
    如果您对 AI 感兴趣，可以选择试用我们的产品，只需要点击下面的按钮免费注册即可。
  </p>
  <br />
  <p>
    <a href="https://user.oneapm.com/account/register.do?ref=https://cloud.oneapm.com&from=ci-docs" class="btn btn-info btn-lg" target="_blank">
      立即注册 AI
    </a>
  </p>
</div>
<hr />
<!-多说评论框 start -->
<!--<div class="ds-thread"
     id="ds-thread"
     data-thread-key=""
     data-title=""
   data-url=""></div>
<!-多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<!--<script type="text/javascript">
  var titleTag = document.getElementsByTagName("h1")[0];

  if (titleTag) {
    title = document.getElementsByTagName("h1")[0].innerText;
  } else {
    title = "";
  }

  var duoshuoTag = document.getElementById('ds-thread');
  duoshuoTag.setAttribute('data-thread-key', title.replace(/\s/g, ''));
  duoshuoTag.setAttribute('data-title', title);

  var duoshuoQuery = {short_name:"docs-ci"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0]
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
</script>-->
<!-- 多说公共JS代码 end -->


            <div class="return"></div>
          </div>
          <div class="footer-in">
            
          </div>
        </div>
      </div>
    </div>

    <script type="text/javascript">
      $(function() {
//        $(".navbar-default .navbar-nav a[href='/best-practise/']").parent().addClass("active");
        (function () {
          var key=window.location.pathname;
          var lastindex=key.indexOf('/',1);
          var keyInfo="'"+key.substring(0,lastindex+1)+"'";
          var panelHead= $(".panel-default  a[href="+keyInfo+"]").parent().parent();
          panelHead.siblings().addClass('in');
          panelHead.parent().siblings('div').map(function () {
            $(this).removeClass('active');
          });
          panelHead.parent().addClass('active');
        })();
      });
    </script>
  </body>
</html>
